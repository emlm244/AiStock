# AIStocker Trading Bot Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ============================================
# REQUIRED: Interactive Brokers Configuration
# ============================================
IBKR_ACCOUNT_ID=YOUR_ACCOUNT_ID_HERE  # e.g., DU1234567 (Paper) or U1234567 (Live)

# Client ID (REQUIRED - unique identifier for this bot instance)
# Choose a unique number (1000-9999) to avoid conflicts with other API clients
# CRITICAL-8 Fix: No default provided - you MUST set this value
IBKR_CLIENT_ID=YOUR_UNIQUE_CLIENT_ID_HERE  # e.g., 1001, 1002, 1003, etc.

# ============================================
# CONNECTION SETTINGS
# ============================================
# TWS/Gateway Host (where TWS or IB Gateway is running)
IBKR_TWS_HOST=127.0.0.1

# Paper & Live ports (override when using non-default TWS/Gateway ports)
# Paper Trading defaults: 7497 (TWS) / 4002 (Gateway)
IBKR_PAPER_PORT=7497

# Live Trading defaults: 7496 (TWS) / 4001 (Gateway)
IBKR_LIVE_PORT=7496

# Legacy single-port override (used only if IBKR_PAPER_PORT is absent)
IBKR_TWS_PORT=7497

# ============================================
# OPTIONAL: System Settings
# ============================================
# Timezone for logs and daily resets
TIMEZONE=America/New_York

# Logging verbosity: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================
# ACCOUNT CAPABILITIES
# ============================================
# Account type: 'cash' (no margin, T+2 settlement) or 'margin' (PDT rules apply)
ACCOUNT_TYPE=cash

# Total account balance (used for eligibility checks, not the bot's trading allocation)
ACCOUNT_BALANCE=500

# Tradeable instruments (true/false)
ENABLE_STOCKS=true
ENABLE_ETFS=true
ENABLE_FUTURES=false    # Requires $2,000+ margin minimum
ENABLE_OPTIONS=false    # Requires options approval from broker

# Trading hours (all times Eastern)
ALLOW_EXTENDED_HOURS=false  # Pre-market + after-hours (lower liquidity)
# Legacy compatibility (only used if ALLOW_EXTENDED_HOURS is not set)
ENABLE_PREMARKET=false
ENABLE_AFTERHOURS=false

# Cash account settlement tracking
# When true, tracks T+2 settlement and prevents using unsettled funds
ENFORCE_SETTLEMENT=true

# ============================================
# GUI SETTINGS (persisted user inputs)
# ============================================
GUI_CAPITAL=200
GUI_RISK_LEVEL=conservative              # conservative, moderate, aggressive
GUI_INVESTMENT_GOAL=steady_growth        # steady_growth, quick_gains
GUI_SESSION_TIME_LIMIT_MINUTES=240
GUI_MAX_LOSS_PER_TRADE_PCT=5
GUI_TRADE_TEMPO=balanced                 # steady, balanced, fast

GUI_MINIMUM_BALANCE=100
GUI_MINIMUM_BALANCE_ENABLED=true

GUI_MAX_DAILY_LOSS_PCT=5
GUI_MAX_DRAWDOWN_PCT=15
GUI_MAX_TRADES_PER_HOUR=20
GUI_MAX_TRADES_PER_DAY=100
GUI_CHASE_THRESHOLD_PCT=5
GUI_NEWS_VOLUME_MULTIPLIER=5
GUI_END_OF_DAY_MINUTES=30

GUI_TRADING_MODE=ibkr_paper              # ibkr_paper, ibkr_live

GUI_ENABLE_WITHDRAWAL=false
GUI_TARGET_CAPITAL=200
GUI_WITHDRAWAL_THRESHOLD=5000
GUI_WITHDRAWAL_FREQUENCY=Daily           # Daily, Weekly, Monthly

GUI_ENABLE_EOD_FLATTEN=false
GUI_EOD_FLATTEN_TIME=15:45               # HH:MM (ET)

# ============================================
# SECURITY NOTES
# ============================================
# - Never share your IBKR_ACCOUNT_ID publicly
# - Use Paper Trading (port 7497/4002) for testing
# - Each bot instance must have a UNIQUE IBKR_CLIENT_ID
# - Double-check port settings before connecting
# - Review logs regularly for unauthorized access attempts
